<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å‘†é±¼</title>
  
  
  <link href="http://daiyu.fun/atom.xml" rel="self"/>
  
  <link href="http://daiyu.fun/"/>
  <updated>2023-12-17T07:33:50.083Z</updated>
  <id>http://daiyu.fun/</id>
  
  <author>
    <name>DaiYu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>C# Butterflyuä¸»é¢˜ æ£€æŸ¥å‹é“¾æ˜¯å¦åé“¾</title>
    <link href="http://daiyu.fun/posts/dd14.html"/>
    <id>http://daiyu.fun/posts/dd14.html</id>
    <published>2023-12-03T11:10:42.000Z</published>
    <updated>2023-12-17T07:33:50.083Z</updated>
    
    <content type="html"><![CDATA[<p>åŠ äº†ä¸€å †å‹æƒ…é“¾æ¥ï¼Œåˆæ‡’å¾—å»æ£€æŸ¥æ˜¯å¦æœ‰åå‘é“¾æ¥ï¼Œå¯ä»¥ç”¨ç¨‹åºæ‰¹é‡æ£€æµ‹ï¼Œæˆ‘è¿™é‡Œç”¨C#æ¼”ç¤ºã€‚</p><div class="note info modern"><p>æœ¬æ–‡æœ«å°¾æœ‰ç¼–è¯‘åWindowså’ŒLinuxç‰ˆæœ¬çš„è½¯ä»¶</p></div><h2 id="è·å–å‹é“¾æ•°æ®"><a href="#è·å–å‹é“¾æ•°æ®" class="headerlink" title="è·å–å‹é“¾æ•°æ®"></a>è·å–å‹é“¾æ•°æ®</h2><p>åˆ›å»ºä¸€ä¸ªåˆ—è¡¨æ¥å­˜å‚¨é“¾æ¥</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;<span class="built_in">string</span>&gt; urls = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br></pre></td></tr></table></figure><p>è·å–å‹é“¾æ•°æ®å¯ä»¥ç›´æ¥è¯»å–<code>link.yml</code>æ–‡ä»¶æˆ–ä»å‹é“¾é¡µè·å–</p><h3 id="ç›´æ¥è¯»å–link-ymlæ–‡ä»¶"><a href="#ç›´æ¥è¯»å–link-ymlæ–‡ä»¶" class="headerlink" title="ç›´æ¥è¯»å–link.ymlæ–‡ä»¶"></a>ç›´æ¥è¯»å–<code>link.yml</code>æ–‡ä»¶</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = File.ReadAllText(<span class="string">&quot;&#123;file&#125;&quot;</span>);</span><br><span class="line"></span><br><span class="line">Regex rgx = <span class="keyword">new</span> Regex(<span class="string">@&quot;link:\s*(https://[^\s]*)&quot;</span>, RegexOptions.IgnoreCase);</span><br><span class="line">MatchCollection matches = rgx.Matches(data);</span><br><span class="line"><span class="keyword">foreach</span> (Match match <span class="keyword">in</span> matches)</span><br><span class="line">&#123;</span><br><span class="line">    Console.Write(match.Groups[<span class="number">1</span>].Value + <span class="string">&quot;  &quot;</span>);</span><br><span class="line">    urls.Add(match.Groups[<span class="number">1</span>].Value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»å‹é“¾é¡µè·å–"><a href="#ä»å‹é“¾é¡µè·å–" class="headerlink" title="ä»å‹é“¾é¡µè·å–"></a>ä»å‹é“¾é¡µè·å–</h3><p>éœ€è¦å®‰è£…<code>HtmlAgilityPack</code>åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Install-Package HtmlAgilityPack</span><br><span class="line"></span><br><span class="line">dotnet add package HtmlAgilityPack --version 1.11.54</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Net.Http;  </span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;  </span><br><span class="line"><span class="keyword">using</span> HtmlAgilityPack;  </span><br><span class="line"></span><br><span class="line">HttpClient client = <span class="keyword">new</span> HttpClient();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> url = <span class="string">&quot;https://daiyu.fun/page/link/&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> html = <span class="keyword">await</span> client.GetStringAsync(url);</span><br><span class="line"><span class="keyword">var</span> doc = <span class="keyword">new</span> HtmlDocument();</span><br><span class="line">doc.LoadHtml(html);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> flinkListItemNodes = doc.DocumentNode.SelectNodes(<span class="string">&quot;//div[@class=&#x27;flink-list-item&#x27;]&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (flinkListItemNodes != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> flinkListItemNode <span class="keyword">in</span> flinkListItemNodes)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> aNodes = flinkListItemNode.SelectNodes(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (aNodes != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> aNode <span class="keyword">in</span> aNodes)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(aNode.Attributes[<span class="string">&quot;href&quot;</span>].Value);</span><br><span class="line">                urls.Add(aNode.Attributes[<span class="string">&quot;href&quot;</span>].Value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‹¼æ¥å‹é“¾é¡µé¢"><a href="#æ‹¼æ¥å‹é“¾é¡µé¢" class="headerlink" title="æ‹¼æ¥å‹é“¾é¡µé¢"></a>æ‹¼æ¥å‹é“¾é¡µé¢</h2><h3 id="è‡ªå®šä¹‰é‡"><a href="#è‡ªå®šä¹‰é‡" class="headerlink" title="è‡ªå®šä¹‰é‡"></a>è‡ªå®šä¹‰é‡</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;<span class="built_in">string</span>&gt; å‹æƒ…é“¾æ¥é¡µé¢è·¯å¾„ = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt; &#123; <span class="string">&quot;/link&quot;</span>, <span class="string">&quot;/friends&quot;</span>, <span class="string">&quot;/links&quot;</span>,<span class="string">&quot;/pages/link&quot;</span>, <span class="string">&quot;/links.html&quot;</span> , <span class="string">&quot;/friendlychain&quot;</span> , <span class="string">&quot;/youlian&quot;</span>, <span class="string">&quot;/site/link/&quot;</span> , <span class="string">&quot;/social/link/&quot;</span> &#125;;</span><br><span class="line">List&lt;<span class="built_in">string</span>&gt; ç›®æ ‡url = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt; &#123; <span class="string">&quot;https://daiyu.fun/&quot;</span>, <span class="string">&quot;https://daiyu.fun&quot;</span> &#125;;</span><br></pre></td></tr></table></figure><h3 id="æ‹¼æ¥å‹é“¾é¡µé¢url"><a href="#æ‹¼æ¥å‹é“¾é¡µé¢url" class="headerlink" title="æ‹¼æ¥å‹é“¾é¡µé¢url"></a>æ‹¼æ¥å‹é“¾é¡µé¢url</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> url <span class="keyword">in</span> urls)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> path <span class="keyword">in</span> å‹æƒ…é“¾æ¥é¡µé¢è·¯å¾„)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> linkUrl = <span class="string">$&quot;<span class="subst">&#123;url&#125;</span><span class="subst">&#123;path&#125;</span>&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ£€æŸ¥åé“¾"><a href="#æ£€æŸ¥åé“¾" class="headerlink" title="æ£€æŸ¥åé“¾"></a>æ£€æŸ¥åé“¾</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> content = <span class="keyword">await</span> client.GetStringAsync(linkUrl);</span><br><span class="line">    <span class="keyword">if</span> (content.Contains(ç›®æ ‡url[<span class="number">0</span>]) || content.Contains(ç›®æ ‡url[<span class="number">1</span>]))</span><br><span class="line">    &#123;</span><br><span class="line">        Console.ForegroundColor = ConsoleColor.Green;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;æ‰¾åˆ°åå‘é“¾æ¥:   <span class="subst">&#123;url&#125;</span>&quot;</span>);</span><br><span class="line">        Console.ForegroundColor = ConsoleColor.White;</span><br><span class="line">        link.Add(url);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.ForegroundColor = ConsoleColor.Yellow;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;æœªæ‰¾åˆ°åå‘é“¾æ¥:   <span class="subst">&#123;url&#125;</span>&quot;</span>);</span><br><span class="line">        Console.ForegroundColor = ConsoleColor.White;</span><br><span class="line">        unlink.Add(url);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (HttpRequestException e)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.StatusCode == System.Net.HttpStatusCode.NotFound &amp;&amp; path == å‹æƒ…é“¾æ¥é¡µé¢è·¯å¾„[å‹æƒ…é“¾æ¥é¡µé¢è·¯å¾„.Count - <span class="number">1</span>])</span><br><span class="line">    &#123;</span><br><span class="line">        Console.ForegroundColor = ConsoleColor.Red;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;è¯·æ±‚å¤±è´¥  <span class="subst">&#123;url&#125;</span> : <span class="subst">&#123;e.Message&#125;</span>&quot;</span>);</span><br><span class="line">        Console.ForegroundColor = ConsoleColor.White;</span><br><span class="line">        err.Add(e.StatusCode.ToString() + <span class="string">&quot;  &quot;</span> + url);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (e.StatusCode != System.Net.HttpStatusCode.NotFound &amp;&amp; !Err)</span><br><span class="line">    &#123;</span><br><span class="line">        Err = <span class="literal">true</span>;</span><br><span class="line">        Console.ForegroundColor = ConsoleColor.Red;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;è¯·æ±‚å¤±è´¥  <span class="subst">&#123;url&#125;</span> : <span class="subst">&#123;e.Message&#125;</span>&quot;</span>);</span><br><span class="line">        Console.ForegroundColor = ConsoleColor.White;</span><br><span class="line">        err.Add(e.StatusCode.ToString() + <span class="string">&quot;  &quot;</span> + url);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æˆå“"><a href="#æˆå“" class="headerlink" title="æˆå“"></a>æˆå“</h2><p><a href="https://www.123pan.com/s/pt7RVv-6Phtv.html">BackLinks (123pan.com)</a>å¯ä»¥ä¸‹è½½ç¼–è¯‘åçš„è½¯ä»¶</p><p>æœ¬é±¼å†™çš„ç­”è¾©ğŸ’©ä»£ç </p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> HtmlAgilityPack;</span><br><span class="line"><span class="keyword">using</span> System.Text.RegularExpressions;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">string</span> file = <span class="string">&quot;D:\\Desktop\\Hexo\\source\\_data\\link.yml&quot;</span>; <span class="comment">// Butterflyå‹é“¾æ•°æ®æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">readonly</span> HttpClient client = <span class="keyword">new</span> HttpClient();</span><br><span class="line">    <span class="keyword">static</span> List&lt;<span class="built_in">string</span>&gt; urls = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> List&lt;<span class="built_in">string</span>&gt; å‹æƒ…é“¾æ¥é¡µé¢è·¯å¾„ = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt; &#123; <span class="string">&quot;/link&quot;</span>, <span class="string">&quot;/friends&quot;</span>, <span class="string">&quot;/links&quot;</span>, <span class="string">&quot;/pages/link&quot;</span>, <span class="string">&quot;/links.html&quot;</span>, <span class="string">&quot;/friendlychain&quot;</span>, <span class="string">&quot;/youlian&quot;</span>, <span class="string">&quot;/site/link/&quot;</span>, <span class="string">&quot;/social/link/&quot;</span> &#125;;</span><br><span class="line">    <span class="keyword">static</span> List&lt;<span class="built_in">string</span>&gt; ç›®æ ‡url = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt; &#123; <span class="string">&quot;https://daiyu.fun/&quot;</span>, <span class="string">&quot;https://daiyu.fun&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> List&lt;<span class="built_in">string</span>&gt; link = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    <span class="keyword">static</span> List&lt;<span class="built_in">string</span>&gt; unlink = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    <span class="keyword">static</span> List&lt;<span class="built_in">string</span>&gt; err = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> source = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="comment">//Console.Write(&quot;æ•°æ®æ¥æº(1:æœ¬åœ° 2:ç½‘ç»œ)ï¼š&quot;);</span></span><br><span class="line">        <span class="comment">//source = Console.ReadLine();</span></span><br><span class="line">        <span class="comment">//if (source == &quot;1&quot;)</span></span><br><span class="line">        <span class="comment">//&#123;</span></span><br><span class="line">        <span class="comment">//    Console.WriteLine(&quot;link.yml æ–‡ä»¶è·¯å¾„ï¼š&quot;);</span></span><br><span class="line">        <span class="comment">//    file = Console.ReadLine();</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="comment">//else</span></span><br><span class="line">        <span class="comment">//&#123;</span></span><br><span class="line">        <span class="comment">//    if (source == &quot;2&quot;)</span></span><br><span class="line">        <span class="comment">//    &#123;</span></span><br><span class="line">        <span class="comment">//        Console.WriteLine(&quot;å‹é“¾é¡µurlï¼š&quot;);</span></span><br><span class="line">        <span class="comment">//        var b = Console.ReadLine();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//        HttpClient client = new HttpClient();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//        var html = await client.GetStringAsync(b);</span></span><br><span class="line">        <span class="comment">//        var doc = new HtmlDocument();</span></span><br><span class="line">        <span class="comment">//        doc.LoadHtml(html);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//        var flinkListItemNodes = doc.DocumentNode.SelectNodes(&quot;//div[@class=&#x27;flink-list-item&#x27;]&quot;);</span></span><br><span class="line">        <span class="comment">//        if (flinkListItemNodes != null)</span></span><br><span class="line">        <span class="comment">//        &#123;</span></span><br><span class="line">        <span class="comment">//            foreach (var flinkListItemNode in flinkListItemNodes)</span></span><br><span class="line">        <span class="comment">//            &#123;</span></span><br><span class="line">        <span class="comment">//                var aNodes = flinkListItemNode.SelectNodes(&quot;a&quot;);</span></span><br><span class="line">        <span class="comment">//                if (aNodes != null)</span></span><br><span class="line">        <span class="comment">//                &#123;</span></span><br><span class="line">        <span class="comment">//                    foreach (var aNode in aNodes)</span></span><br><span class="line">        <span class="comment">//                    &#123;</span></span><br><span class="line">        <span class="comment">//                        urls.Add(aNode.Attributes[&quot;href&quot;].Value);</span></span><br><span class="line">        <span class="comment">//                    &#125;</span></span><br><span class="line">        <span class="comment">//                &#125;</span></span><br><span class="line">        <span class="comment">//            &#125;</span></span><br><span class="line">        <span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">//    &#125;</span></span><br><span class="line">        <span class="comment">//    else</span></span><br><span class="line">        <span class="comment">//    &#123;</span></span><br><span class="line">        <span class="comment">//        Console.WriteLine(&quot;é”™è¯¯&quot;);</span></span><br><span class="line">        <span class="comment">//        Console.ReadKey();</span></span><br><span class="line">        <span class="comment">//        return;</span></span><br><span class="line">        <span class="comment">//    &#125;</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="keyword">if</span> (!File.Exists(file))</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(file + <span class="string">&quot; ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (source != <span class="string">&quot;2&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;è·å–æ•°æ®:  <span class="subst">&#123;file&#125;</span>\n&quot;</span>);</span><br><span class="line">            <span class="keyword">var</span> data = File.ReadAllText(file);</span><br><span class="line">            <span class="built_in">string</span> pattern = <span class="string">@&quot;link:\s*(https://[^\s]*)&quot;</span>;</span><br><span class="line">            Regex rgx = <span class="keyword">new</span> Regex(pattern, RegexOptions.IgnoreCase);</span><br><span class="line">            MatchCollection matches = rgx.Matches(data);</span><br><span class="line">            <span class="keyword">foreach</span> (Match match <span class="keyword">in</span> matches)</span><br><span class="line">            &#123;</span><br><span class="line">                urls.Add(match.Groups[<span class="number">1</span>].Value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;æ‰¾åˆ°<span class="subst">&#123;urls.Count&#125;</span>é¡¹é“¾æ¥:  &quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> a <span class="keyword">in</span> urls)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(a + <span class="string">&quot;  &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> url <span class="keyword">in</span> urls)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> Err = <span class="literal">false</span>;</span><br><span class="line">            Console.Write(i);</span><br><span class="line">            Console.Write(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> path <span class="keyword">in</span> å‹æƒ…é“¾æ¥é¡µé¢è·¯å¾„)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">var</span> linkUrl = <span class="string">$&quot;<span class="subst">&#123;url&#125;</span><span class="subst">&#123;path&#125;</span>&quot;</span>;</span><br><span class="line">                <span class="keyword">try</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">var</span> content = <span class="keyword">await</span> client.GetStringAsync(linkUrl);</span><br><span class="line">                    <span class="keyword">if</span> (content.Contains(ç›®æ ‡url[<span class="number">0</span>]) || content.Contains(ç›®æ ‡url[<span class="number">1</span>]))</span><br><span class="line">                    &#123;</span><br><span class="line">                        Console.ForegroundColor = ConsoleColor.Green;</span><br><span class="line">                        Console.WriteLine(<span class="string">$&quot;æ‰¾åˆ°åå‘é“¾æ¥:   <span class="subst">&#123;url&#125;</span>&quot;</span>);</span><br><span class="line">                        Console.ForegroundColor = ConsoleColor.White;</span><br><span class="line">                        link.Add(url);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        Console.ForegroundColor = ConsoleColor.Yellow;</span><br><span class="line">                        Console.WriteLine(<span class="string">$&quot;æœªæ‰¾åˆ°åå‘é“¾æ¥:   <span class="subst">&#123;url&#125;</span>&quot;</span>);</span><br><span class="line">                        Console.ForegroundColor = ConsoleColor.White;</span><br><span class="line">                        unlink.Add(url);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span> (HttpRequestException e)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (e.StatusCode == System.Net.HttpStatusCode.NotFound &amp;&amp; path == å‹æƒ…é“¾æ¥é¡µé¢è·¯å¾„[å‹æƒ…é“¾æ¥é¡µé¢è·¯å¾„.Count - <span class="number">1</span>])</span><br><span class="line">                    &#123;</span><br><span class="line">                        Console.ForegroundColor = ConsoleColor.Red;</span><br><span class="line">                        Console.WriteLine(<span class="string">$&quot;è¯·æ±‚å¤±è´¥  <span class="subst">&#123;url&#125;</span> : <span class="subst">&#123;e.Message&#125;</span>&quot;</span>);</span><br><span class="line">                        Console.ForegroundColor = ConsoleColor.White;</span><br><span class="line">                        err.Add(e.StatusCode.ToString() + <span class="string">&quot;  &quot;</span> + url);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (e.StatusCode != System.Net.HttpStatusCode.NotFound &amp;&amp; !Err)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Err = <span class="literal">true</span>;</span><br><span class="line">                        Console.ForegroundColor = ConsoleColor.Red;</span><br><span class="line">                        Console.WriteLine(<span class="string">$&quot;è¯·æ±‚å¤±è´¥  <span class="subst">&#123;url&#125;</span> : <span class="subst">&#123;e.Message&#125;</span>&quot;</span>);</span><br><span class="line">                        Console.ForegroundColor = ConsoleColor.White;</span><br><span class="line">                        err.Add(e.StatusCode.ToString() + <span class="string">&quot;  &quot;</span> + url);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;\n\nå‘ç°åé“¾åˆ—è¡¨ <span class="subst">&#123;link.Count&#125;</span>:  &quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> link)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;\n\nè¿æ¥é”™è¯¯åˆ—è¡¨ <span class="subst">&#123;err.Count&#125;</span>:  &quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> err)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;\n\næœªå‘ç°åé“¾åˆ—è¡¨ <span class="subst">&#123;unlink.Count&#125;</span>:  &quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> unlink)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(item);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        Console.ReadKey();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">åŠ äº†ä¸€å †å‹æƒ…é“¾æ¥ï¼Œåˆæ‡’å¾—å»æ£€æŸ¥æ˜¯å¦æœ‰åå‘é“¾æ¥ï¼Œé‚£å°±ç”¨ç¨‹åºæ‰¹é‡æ£€æµ‹ï¼ˆC#ï¼‰</summary>
    
    
    
    
    <category term="C#" scheme="http://daiyu.fun/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>ç»™HexoåŠ ä¸ªåå° - Qexo</title>
    <link href="http://daiyu.fun/posts/da27.html"/>
    <id>http://daiyu.fun/posts/da27.html</id>
    <published>2023-11-26T16:57:05.000Z</published>
    <updated>2023-12-17T07:33:50.083Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p><strong>å‚è€ƒï¼š<a href="https://www.oplog.cn/qexo/start.html">https://www.oplog.cn/qexo/start.html</a></strong></p><h2 id="é¡¹ç›®åœ°å€"><a href="#é¡¹ç›®åœ°å€" class="headerlink" title="é¡¹ç›®åœ°å€"></a>é¡¹ç›®åœ°å€</h2><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/GitHub-Qexo-orange?logo=GitHub&color=orange&link=https://github.com/Qexo/Qexo&"></object><h2 id="é¡¹ç›®ä»‹ç»"><a href="#é¡¹ç›®ä»‹ç»" class="headerlink" title="é¡¹ç›®ä»‹ç»"></a>é¡¹ç›®ä»‹ç»</h2><p>Qexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€å¼ºå¤§ã€æ¼‚äº®çš„åœ¨çº¿ Hexo ç¼–è¾‘å™¨ï¼Œæ”¯æŒåœ¨çº¿<code>æ–°å»ºç¼–è¾‘æ–‡ç« </code> <code>æ–°å»ºç¼–è¾‘å•ç‹¬é¡µé¢</code> <code>å‹æƒ…é“¾æ¥</code> è¿˜æ”¯æŒ<code>é¡µé¢ç®¡ç†</code> <code>è‡ªå®šä¹‰å›¾åºŠ</code>ç­‰åŠŸèƒ½ã€‚</p><p><img src="https://user-images.githubusercontent.com/51912589/159258766-19a1ce22-d34b-4b29-b291-7d70e8942859.png" alt="wd"></p><h2 id="ç‰¹è‰²åŠŸèƒ½"><a href="#ç‰¹è‰²åŠŸèƒ½" class="headerlink" title="ç‰¹è‰²åŠŸèƒ½"></a>ç‰¹è‰²åŠŸèƒ½</h2><ul><li>è‡ªå®šä¹‰å›¾åºŠä¸Šä¼ å›¾ç‰‡</li><li>åœ¨çº¿é…ç½®ç¼–è¾‘</li><li>åœ¨çº¿é¡µé¢ç®¡ç†</li><li>å¼€æ”¾ API</li><li>è‡ªåŠ¨æ£€æŸ¥æ›´æ–°</li><li>åœ¨çº¿ä¸€é”®æ›´æ–°</li><li>å¿«é€Ÿæ¥å…¥å‹æƒ…é“¾æ¥</li><li>ç®€å•çš„è¯´è¯´çŸ­æ–‡</li><li>ç±»ä¼¼ä¸ç®—å­çš„ç»Ÿè®¡</li><li>è‡ªåŠ¨å¡«æ–‡ç« æ¨¡æ¿</li></ul><h1 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h1><h2 id="ç”³è¯·-MongoDB"><a href="#ç”³è¯·-MongoDB" class="headerlink" title="ç”³è¯· MongoDB"></a>ç”³è¯· MongoDB</h2><p>1.<a href="https://www.mongodb.com/cloud/atlas/register">æ³¨å†Œ MongoDB è´¦å·</a>ï¼Œç„¶åç™»é™†ã€‚</p><p>2.æ–°å»º MongoDB æ•°æ®åº“ï¼š</p><p><code>Build a Database</code>â€”&gt;<code>Create(Free)</code>â€”&gt;<code>Create Cluster[åœ°åŒºé€‰æ‹©**AWS / N. Virginia (us-east-1)**]</code>â€”&gt;é…ç½®æ•°æ®åº“ï¼šæ·»åŠ ç”¨æˆ·ã€å…è®¸æ‰€æœ‰IPè®¿é—®(0.0.0.0/0)â€”&gt;<code>Finsh and Close</code></p><details class="folding-tag" yellow><summary> å›¾ç‰‡æ•™ç¨‹ </summary>              <div class='content'>              <p><img src="https://pic.daiyu.fun/img/posts/Qexo/1.png" alt="1" style="zoom: 25%;" /></p><p><img src="https://pic.daiyu.fun/img/posts/Qexo/2.png" alt="2" style="zoom:25%;" /></p><p><img src="https://pic.daiyu.fun/img/posts/Qexo/3.png" alt="3" style="zoom:25%;" /></p><p><img src="https://pic.daiyu.fun/img/posts/Qexo/4.png" alt="4" style="zoom:25%;" /></p>              </div>            </details><h2 id="æ•°æ®åº“è¿æ¥ä¿¡æ¯"><a href="#æ•°æ®åº“è¿æ¥ä¿¡æ¯" class="headerlink" title="æ•°æ®åº“è¿æ¥ä¿¡æ¯"></a>æ•°æ®åº“è¿æ¥ä¿¡æ¯</h2><p>åœ¨<code>Databas</code>é¡µé¢ç‚¹å‡»<code>Connect--&gt;Connect with the MonggoDB Shell</code></p><p><img src="https://pic.daiyu.fun/img/posts/Qexo/5.png" alt="5"></p><h2 id="ä¸€é”®éƒ¨ç½²"><a href="#ä¸€é”®éƒ¨ç½²" class="headerlink" title="ä¸€é”®éƒ¨ç½²"></a>ä¸€é”®éƒ¨ç½²</h2><p><a href="https://vercel.com/new/clone?repository-url=https://github.com/am-abudu/Qexo">https://vercel.com/new/clone?repository-url=https://github.com/am-abudu/Qexo</a></p><p>é¦–æ¬¡éƒ¨ç½²ä¼šæŠ¥é”™ï¼Œè¯·æ— è§†å¹¶é‡æ–°è¿›å…¥é¡¹ç›®ï¼Œåœ¨é¡¹ç›®è®¾ç½®ç•Œé¢æ·»åŠ ç¯å¢ƒå˜é‡ï¼š</p><p>åˆ°<a href="https://vercel.com/dashboard">Dashboard â€“ Vercel</a>æ‰¾åˆ°åˆšåˆšéƒ¨ç½²çš„é¡¹ç›®ç‚¹å‡»è¿›å…¥ï¼Œè¿›å…¥<code>Setting</code>â€”&gt;<code>Environment Variables</code>æ·»åŠ ç¯å¢ƒå˜é‡</p><p><img src="https://pic.daiyu.fun/img/posts/Qexo/6.png" alt="6"></p><div class="table-container"><table><thead><tr><th style="text-align:left">åç§°(Key)</th><th>ç¤ºä¾‹(Value)</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:left">MONGODB_HOST</td><td>mongodb+srv://cluster0.xxxx.mongodb.net</td><td>MongoDB æ•°æ®åº“è¿æ¥åœ°å€</td></tr><tr><td style="text-align:left">MONGODB_PORT</td><td>27017</td><td>MongoDB æ•°æ®åº“é€šä¿¡ç«¯å£ é»˜è®¤åº”å¡«å†™ 27017</td></tr><tr><td style="text-align:left">MONGODB_USER</td><td>abudu</td><td>MongoDB æ•°æ®åº“ç”¨æˆ·å</td></tr><tr><td style="text-align:left">MONGODB_DB</td><td>Cluster0</td><td>MongoDB æ•°æ®åº“å</td></tr><tr><td style="text-align:left">MONGODB_PASS</td><td>JWo0xxxxxxxx</td><td>MongoDB æ•°æ®åº“å¯†ç </td></tr></tbody></table></div><p>åœ¨ Deployments ç‚¹å‡» Redeploy å¼€å§‹éƒ¨ç½²</p><p><img src="https://pic.daiyu.fun/img/posts/Qexo/7.png" alt="7"></p><p>è‹¥æ²¡æœ‰ Error ä¿¡æ¯å³å¯æ‰“å¼€åŸŸåè¿›å…¥åˆå§‹åŒ–å¼•å¯¼ï¼Œå›½å†…å¯èƒ½æ— æ³•ä½¿ç”¨é»˜è®¤åŸŸåè¿›å…¥ï¼Œæˆ‘ä»¬è¦è§£æä¸€ä¸ªè‡ªå·±çš„åŸŸåï¼š</p><p>è¿›å…¥<code>Project</code>â€”&gt;<code>View Domains</code>ï¼Œè¾“å…¥å¾…è§£æçš„åŸŸåç‚¹å‡»<code>Add</code>ï¼ŒæŒ‰è¦æ±‚æ·»åŠ è§£æè®°å½•ç„¶ååˆ·æ–°</p><p><img src="https://pic.daiyu.fun/img/posts/Qexo/8.png" alt="10"></p><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h2 id="Github-Gitlab-ä»“åº“"><a href="#Github-Gitlab-ä»“åº“" class="headerlink" title="Github/Gitlab ä»“åº“"></a>Github/Gitlab ä»“åº“</h2><p>æ‚¨ Hexo <strong>æºä»£ç </strong>æ‰€åœ¨çš„ä»“åº“(ä¸æ˜¯ç¼–è¯‘åçš„)</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username/repo</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®åˆ†æ”¯"><a href="#é¡¹ç›®åˆ†æ”¯" class="headerlink" title="é¡¹ç›®åˆ†æ”¯"></a>é¡¹ç›®åˆ†æ”¯</h2><p>æ‚¨ Hexo è‡ªåŠ¨åŒ–éƒ¨ç½²æ‰€åœ¨ä»“åº“çš„åˆ†æ”¯</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">main</span><br></pre></td></tr></table></figure><h2 id="Github-Gitlab-å¯†é’¥-Token"><a href="#Github-Gitlab-å¯†é’¥-Token" class="headerlink" title="Github/Gitlab å¯†é’¥(Token)"></a>Github/Gitlab å¯†é’¥(Token)</h2><p>äº <a href="https://github.com/settings/tokens">Github è®¾ç½®</a> / <a href="https://gitlab.com/-/profile/personal_access_tokens">Gitlab è®¾ç½®</a> ç”Ÿæˆçš„ Token éœ€è¦ Repo ä¸‹çš„è‡³å°‘è¯»å–å’Œå†™å…¥æƒé™ä¸å»ºè®®ç»™å‡ºæ‰€æœ‰æƒé™</p><p><code>GitHub Settingsï¼ˆå³ä¸Šè§’å¤´åƒï¼‰</code>â€”&gt;<code>Developer settings</code>â€”&gt;<code>Personal access tokens</code>â€”&gt;<code>Tokens(classic)</code>ï¼š</p><h2 id="ä»“åº“è·¯å¾„"><a href="#ä»“åº“è·¯å¾„" class="headerlink" title="ä»“åº“è·¯å¾„"></a>ä»“åº“è·¯å¾„</h2><p>æ‚¨ Hexo è‡ªåŠ¨åŒ–éƒ¨ç½²æ‰€åœ¨ä»“åº“çš„è·¯å¾„ è‹¥ä¸ºæ ¹ç›®å½•è¯·ç•™ç©º</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path/</span><br></pre></td></tr></table></figure><h2 id="VERCEL-TOKEN"><a href="#VERCEL-TOKEN" class="headerlink" title="VERCEL_TOKEN"></a>VERCEL_TOKEN</h2><p>æ‚¨çš„ Vercel è´¦æˆ·å¯†é’¥ åœ¨ <a href="https://vercel.com/account/tokens">æ­¤å¤„</a> ç”Ÿæˆ</p><h2 id="PROJECT-ID"><a href="#PROJECT-ID" class="headerlink" title="PROJECT_ID"></a>PROJECT_ID</h2><p>æ‚¨ Qexo éƒ¨ç½²æ‰€åœ¨é¡¹ç›®çš„ ID ä½äº <code>Project Settings</code> â€”&gt; <code>General</code> â€”&gt; <code>Project ID</code></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prj_xxxxxxx</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ä¸ºä½ çš„Hexoæ·»åŠ ä¸€ä¸ªå¿«é€Ÿã€å¼ºå¤§ã€æ¼‚äº®çš„åœ¨çº¿ Hexo ç¼–è¾‘å™¨</summary>
    
    
    
    
    <category term="Hexo" scheme="http://daiyu.fun/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo algoliaåœ¨çº¿æœç´¢</title>
    <link href="http://daiyu.fun/posts/d53b.html"/>
    <id>http://daiyu.fun/posts/d53b.html</id>
    <published>2023-11-26T16:53:09.000Z</published>
    <updated>2023-12-17T07:33:50.083Z</updated>
    
    <content type="html"><![CDATA[<p>Algoliaæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„åœ¨çº¿æœç´¢å¼•æ“ã€‚å¯ä»¥é€šè¿‡æœç´¢å¼•æ“<code>Algolia</code>å®ç° hexo ç«™å†…çš„é«˜æ•ˆæ£€ç´¢ã€‚</p><h2 id="åˆ›å»º-Algolia-Index"><a href="#åˆ›å»º-Algolia-Index" class="headerlink" title="åˆ›å»º Algolia Index"></a>åˆ›å»º Algolia Index</h2><p>1.æ³¨å†Œç™»å½•<a href="https://www.algolia.com/users">Algolia</a></p><p>2.åˆ›å»º Index</p><p><img src="https://pic.daiyu.fun/pic/2022/12/202212292042201.png" alt="image-20221229204241659"></p><p>å¦‚æœæ²¡æœ‰å‘½åï¼Œè¦å…ˆè¿›å…¥<a href="https://www.algolia.com/account/applications">åº”ç”¨ç®¡ç†</a>é‡å‘½åï¼Œå»ºè®®å’Œåˆ›å»ºIndexæ—¶ç”¨åŒä¸€ä¸ªåå­—ã€‚</p><p><img src="https://pic.daiyu.fun/pic/2022/12/202212292048845.png" alt="image-20221229204845628"></p><h2 id="é…ç½®-Hexo"><a href="#é…ç½®-Hexo" class="headerlink" title="é…ç½® Hexo"></a>é…ç½® Hexo</h2><p>å®‰è£…æ’ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-algolia --save</span><br></pre></td></tr></table></figure><p>è¿›å…¥<a href="https://www.algolia.com/account/applications">åº”ç”¨ç®¡ç†</a>é€‰æ‹©åˆšåˆšåˆ›å»ºçš„ Indexï¼Œç„¶åè¿›å…¥<code>API Keys</code></p><p><img src="https://pic.daiyu.fun/pic/2022/12/202212292053849.png" alt="image-20221229204529738"></p><p>ä¿®æ”¹<code>_config.yml</code>ï¼Œæ’å…¥ä»¥ä¸‹é…ç½®é¡¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">applicationID:</span> <span class="string">&#x27;your Application ID&#x27;</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">&#x27;your Search-Only API Key&#x27;</span></span><br><span class="line">  <span class="attr">adminApiKey:</span> <span class="string">&#x27;your Admin API Key&#x27;</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">&#x27;your indexName&#x27;</span></span><br><span class="line">  <span class="attr">chunkSize:</span> <span class="number">5000</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">&quot;your Application ID&quot;</span></span><br><span class="line">  <span class="attr">fields:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">content:strip:truncate,0,500</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">excerpt:strip</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">gallery</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">permalink</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">photos</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">slug</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">title</span></span><br></pre></td></tr></table></figure><p><code>applicationID</code>å’Œ<code>appId</code>æ˜¯ç½‘é¡µä¸Šçš„<code>Application ID</code></p><p><code>apiKey</code>æ˜¯ç½‘é¡µä¸Šçš„<code>Search-Only API Key</code></p><p><code>adminApiKey</code>æ˜¯ç½‘é¡µä¸Šçš„<code>Admin API Key</code></p><p><code>indexName</code>æ˜¯åˆ›å»ºIndexæ—¶è¾“å…¥çš„åç§°</p><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><details class="folding-tag" cyan><summary> æœ¬åœ° </summary>              <div class='content'>              <p>éœ€è¦é…ç½®ä¸€ä¸ªåç§°ä¸º <code>HEXO_ALGOLIA_INDEXING_KEY</code>ï¼Œå†…å®¹ä¸º Algolia ç½‘é¡µä¸­ <code>Search-Only API Key</code> çš„ç¯å¢ƒå˜é‡<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export HEXO_ALGOLIA_INDEXING_KEY=your Search-Only API Key</span><br></pre></td></tr></table></figure><br>Windowsï¼š</p><p>æ·»åŠ <strong>ç³»ç»Ÿç¯å¢ƒå˜é‡</strong></p><p><code>Win + R è¿è¡Œ &#39;sysdm.cpl&#39;</code>â€”&gt;<code>é«˜çº§</code>â€”&gt;<code>ç¯å¢ƒå˜é‡</code>â€”&gt;<code>ç³»ç»Ÿå˜é‡</code>â€”&gt;<code>æ–°å»º</code></p><p><img src="https://pic.daiyu.fun/pic/2022/12/202212292119850.png" alt="image-20221229211859552"></p><p>ç„¶åè¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo algolia</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" cyan><summary> Github Actions </summary>              <div class='content'>              <p>åœ¨GitHubè‡ªåŠ¨åŒ–éƒ¨ç½²æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">jobs:</span><br><span class="line">  deploy:</span><br><span class="line"><span class="addition">+   env:</span></span><br><span class="line"><span class="addition">+     HEXO_ALGOLIA_INDEXING_KEY: your Search-Only API Key</span></span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    steps:</span><br><span class="line">      - name: æ£€æŸ¥åˆ†æ”¯</span><br><span class="line">      ...</span><br><span class="line">      - name: ç”Ÿæˆé™æ€æ–‡ä»¶</span><br><span class="line">        run: |</span><br><span class="line">          hexo clean</span><br><span class="line">          hexo generate</span><br><span class="line"><span class="addition">+         hexo algolia</span></span><br></pre></td></tr></table></figure><p><code>HEXO_ALGOLIA_INDEXING_KEY</code>æ›¿æ¢ä¸ºä½ çš„<code>Search-Only API Key</code></p>              </div>            </details><p>æ­¤æ—¶å†æ‰“å¼€Algoliaï¼Œå°±å¯ä»¥çœ‹åˆ°ç´¢å¼•æ•°æ®å‘é€åˆ°äº† Algolia çš„ Index ä¸­</p><p><img src="https://pic.daiyu.fun/pic/2022/12/202212292127896.png" alt="image-20221229212735713"></p><h2 id="é…ç½®ä¸»é¢˜"><a href="#é…ç½®ä¸»é¢˜" class="headerlink" title="é…ç½®ä¸»é¢˜"></a>é…ç½®ä¸»é¢˜</h2><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶(<code>_config.butterfly.yml</code>)æ‰“å¼€Algoliaæœç´¢ï¼Œå¦‚æœæœ‰å…¶å®ƒæœç´¢å¼•æ“è¦å…³é—­ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Algolia search</span></span><br><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">6</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹<code>[Blogroot]\themes\butterfly\source\js\search\algolia.js</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  const searchBox = instantsearch.widgets.searchBox(&#123;</span><br><span class="line">    container: &#x27;#algolia-search-input&#x27;,</span><br><span class="line">    showReset: false,</span><br><span class="line">    showSubmit: false,</span><br><span class="line"><span class="addition">+   searchOnEnterKeyPressOnly: true,</span></span><br><span class="line"><span class="deletion">-   placeholder: GLOBAL_CONFIG.algolia.languages.input_placeholder,</span></span><br><span class="line"><span class="addition">+   placeholder: &quot;è¾“å…¥å…³é”®è¯åï¼ŒæŒ‰ä¸‹å›è½¦é”®å³å¯æœç´¢æ–‡ç« ...&quot;</span></span><br><span class="line">    showLoadingIndicator: true</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h2 id="é‡æ–°éƒ¨ç½²"><a href="#é‡æ–°éƒ¨ç½²" class="headerlink" title="é‡æ–°éƒ¨ç½²"></a>é‡æ–°éƒ¨ç½²</h2><p>é‡æ–°æ‰§è¡ŒHexoä¸‰ä»¶å¥—å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">Hexoä½¿ç”¨algoliaåœ¨çº¿æœç´¢</summary>
    
    
    
    
    <category term="Hexo" scheme="http://daiyu.fun/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>é‡è£…ç³»ç»Ÿå¦‚ä½•æ¢å¤Hexo</title>
    <link href="http://daiyu.fun/posts/a5ca.html"/>
    <id>http://daiyu.fun/posts/a5ca.html</id>
    <published>2023-11-26T16:51:38.000Z</published>
    <updated>2023-12-17T07:33:50.083Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¢å¤ç¯å¢ƒ"><a href="#æ¢å¤ç¯å¢ƒ" class="headerlink" title="æ¢å¤ç¯å¢ƒ"></a>æ¢å¤ç¯å¢ƒ</h2><h3 id="å®‰è£…è½¯ä»¶"><a href="#å®‰è£…è½¯ä»¶" class="headerlink" title="å®‰è£…è½¯ä»¶"></a>å®‰è£…è½¯ä»¶</h3><h4 id="node-js"><a href="#node-js" class="headerlink" title="node.js"></a>node.js</h4><details class="folding-tag" cyan><summary> å®‰è£…node.js </summary>              <div class='content'>              <p><a href="https://nodejs.org/en/download/">Node.js å®˜ç½‘</a></p><p>é€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½</p><p><img src="https://pic.daiyu.fun/img/posts/Hexo-Butterfly%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/1.png" alt="1"></p><p>ä¸€ç›´ä¸‹ä¸€æ­¥å°±å¥½äº†</p>              </div>            </details><h4 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h4><details class="folding-tag" cyan><summary> å®‰è£…Git </summary>              <div class='content'>              <p><a href="https://git-scm.com/downloads">Git å®˜ç½‘</a></p><p>ä¸‹è½½å¥½è‡ªå·±å¯¹åº”çš„ç‰ˆæœ¬åä¸€ç›´ä¸‹ä¸€æ­¥å°±å¥½äº†</p><p>å®‰è£…æˆåŠŸåå³é”®èœå•ä¼šå‡ºç°é€‰é¡¹</p><p><img src="https://pic.daiyu.fun/img/posts/Hexo-Butterfly%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/2.png" alt="2"></p>              </div>            </details><h4 id="æ£€éªŒè½¯ä»¶æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#æ£€éªŒè½¯ä»¶æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="æ£€éªŒè½¯ä»¶æ˜¯å¦å®‰è£…æˆåŠŸ"></a>æ£€éªŒè½¯ä»¶æ˜¯å¦å®‰è£…æˆåŠŸ</h4><p>åŒæ—¶æŒ‰ä¸‹ <kbd>Win</kbd> å’Œ <kbd>R</kbd>æ‰“å¼€è¿è¡Œï¼Œè¾“å…¥ <code>cmd</code>ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œæœ‰ç›¸åº”ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤ºåˆ™å®‰è£…æˆåŠŸï¼Œè‹¥ä¸æ­£ç¡®å¯ä»¥å¸è½½è½¯ä»¶é‡æ–°å®‰è£…ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><img src="https://pic.daiyu.fun/img/posts/Hexo-Butterfly%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/3.png" alt="3"></p><h3 id="npm-æº"><a href="#npm-æº" class="headerlink" title="npm æº"></a>npm æº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ·˜å®é•œåƒæº</span> </span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é»˜è®¤æº</span></span><br><span class="line">npm config set registry https://registry.npmjs.org/</span><br></pre></td></tr></table></figure><h3 id="é…ç½®git"><a href="#é…ç½®git" class="headerlink" title="é…ç½®git"></a>é…ç½®git</h3><h4 id="ç”Ÿæˆssh-key"><a href="#ç”Ÿæˆssh-key" class="headerlink" title="ç”Ÿæˆssh key"></a>ç”Ÿæˆssh key</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;ä½ çš„é‚®ç®±&quot;</span><br><span class="line">//å¼•å·é‡Œé¢å¡«å†™ä½ çš„é‚®ç®±åœ°å€ï¼Œæ¯”å¦‚12345678@qq.com</span><br></pre></td></tr></table></figure><p>å°†å…¬é’¥çš„å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿç²˜è´´æ¿ä¸Š:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clip &lt; ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>æˆ–è€…æ‰“å¼€<code>C:\Users\&#123;ä½ çš„ç”¨æˆ·å&#125;\.ssh\id_rsa.pub</code>æ‰‹åŠ¨å¤åˆ¶å…¬é’¥å†…å®¹</p><h4 id="æ·»åŠ ssh-key"><a href="#æ·»åŠ ssh-key" class="headerlink" title="æ·»åŠ ssh key"></a>æ·»åŠ ssh key</h4><p> 1.ç™»é™† GitHubï¼Œè¿›å…¥ <code>Settings</code>ï¼š</p><p><img src="https://pic.daiyu.fun/img/posts/Hexo-Butterfly%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/9.png" alt="e"></p><p>2.ç‚¹å‡» <code>SSH and GPG Keys</code>ï¼Œé€‰æ‹© <code>New SSH key</code></p><p><img src="https://pic.daiyu.fun/img/posts/Hexo-Butterfly%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/10.png" alt="we"></p><p><img src="https://pic.daiyu.fun/img/posts/Hexo-Butterfly%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/11.png" alt="eee"></p><h4 id="é…ç½®-Git-ä¸ªäººä¿¡æ¯"><a href="#é…ç½®-Git-ä¸ªäººä¿¡æ¯" class="headerlink" title="é…ç½® Git ä¸ªäººä¿¡æ¯"></a>é…ç½® Git ä¸ªäººä¿¡æ¯</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;æ­¤å¤„å¡«ä½ çš„ç”¨æˆ·å&quot;</span><br><span class="line">git config --global user.email &quot;æ­¤å¤„å¡«ä½ çš„é‚®ç®±&quot;</span><br></pre></td></tr></table></figure><h2 id="æ¢å¤æ–‡ä»¶"><a href="#æ¢å¤æ–‡ä»¶" class="headerlink" title="æ¢å¤æ–‡ä»¶"></a>æ¢å¤æ–‡ä»¶</h2><h3 id="Cloning-Hexo"><a href="#Cloning-Hexo" class="headerlink" title="Cloning Hexo"></a>Cloning Hexo</h3><p>åœ¨Gitä»“åº“ä¸­æ‰¾åˆ°ssh</p><p>æŠŠHexoä»“åº“å…‹éš†ä¸‹æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &#123;ä»“åº“ssh&#125;</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install --force</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>ä½ çš„Hexoå·²ç»æ¢å¤,åˆå¯ä»¥ç»§ç»­å†™æ–‡ç« å•¦!</p><p><del>å…¶å®åªè¦å¤šé‡è£…å‡ æ¬¡å°±ç†Ÿç»ƒäº†</del></p>]]></content>
    
    
    <summary type="html">é‡è£…ç³»ç»Ÿåå¦‚ä½•æ¢å¤Hexo</summary>
    
    
    
    
    <category term="Hexo" scheme="http://daiyu.fun/tags/Hexo/"/>
    
  </entry>
  
</feed>
